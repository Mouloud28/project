{% extends 'base.html.twig' %}

{% block title %}Admin - Gestion des films
{% endblock %}

{% block body %}

	<div class="h1-films rounded text-center">
		<div class="item-h1-films-fontawsome1"><i class="fa-solid fa-lock fa-3x"></i></div>
		<div class="item-h1-films-fontawsome2"><h1>Admin - Gestion des films</h1></div>
	</div>

	<div class="flex-container-films1">
		<div>
			<span class="span-films">Résultats :</span>
			{{ films.getTotalItemCount }}</div>
		<div>{{ include('admin_film/_search_data_html.twig') }}</div>
	</div>

	<div class="flex-container-films2">
		<div class="ajouter my-2 rounded text-center">
			<a href="{{ path('app_admin_film_new') }}" class="text-decoration-none text-white fw-bold">Ajouter</a>
		</div>
		<div></div>
	</div>

	<table class="table">
		<thead>
			<tr>
				<th class="rounded-row1">Id</th>
				<th>Titre francais</th>
				<th>Réalisateur(s)</th>
				<th>Genre(s)</th>
				<th class="rounded-row2">Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for film in films %}
				<tr>
					<td class="rounded-row1">{{ film.id }}</td>
					<td>{{ film.titreFrancais }}</td>
					<td>
						{% if film.realisateur %}
							{% for artiste in film.realisateur %}
								{{ artiste.nom }}
							{% endfor %}
						{% else %}
							<span class="text-danger fst-italic">N.R</span>
						{% endif %}
					</td>
					<td>
						{% if film.Genres %}
							{% for Genre in film.Genres %}
								{{ Genre.nom }}
							{% endfor %}
						{% else %}
							<span class="text-danger fst-italic">N.R</span>
						{% endif %}
					</td>
					<td class="rounded-row2">
					<div class="fiche-modifier-supprimer">
						<button class="btn-fiche-modifier-supprimer my-2 rounded text-center">
							<a href="{{ path('app_admin_film_show', {'id': film.id}) }}" class="text-decoration-none text-white fw-bold">Fiche</a>
						</button>
						<button class="btn-fiche-modifier-supprimer my-2 rounded text-center">
							<a href="{{ path('app_admin_film_edit', {'id': film.id}) }}" class="text-decoration-none text-white fw-bold">Modifier</a>
						</button>
						{{ include('admin_film/_delete_form.html.twig') }}
					</div>
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="11" class="rounded">Aucun résultat trouvé.</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<div class="navigation">
		{{ knp_pagination_render(films) }}
	</div>

{% endblock %}
